services:
  backend:
    build:
      context: ./backend/app
      dockerfile: Dockerfile
    container_name: infra-backend
    ports:
      - "8081:8080"
    environment:
      - PORT=8080
      # Si tu app usa variables para BigQuery, agregalas acÃ¡ (ejemplos):
      # - GCP_PROJECT_ID=tu-proyecto
      # - BQ_DATASET=tu_dataset
      # - BQ_TABLE=tu_tabla
    volumes:
      - ./backend/app:/app
    command: >
      bash -lc "exec uvicorn main:app --host 0.0.0.0 --port 8080 --reload"
